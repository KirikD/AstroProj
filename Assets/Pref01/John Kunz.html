<!DOCTYPE html>
<!-- saved from url=(0063)https://mrkunz.com/blog/08_22_2018_VEX_Wrangle_Cheat_Sheet.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <title>John Kunz</title>

    <!-- Meta Zone -->
    

    <meta name="description" content="John Kunz, Effects Artist">
    <meta name="keywords" content="John Kunz, Effects Artist, Houdini, VFX, CG, CGI">
    <meta name="robots" content="index, follow, all">
    <meta name="author" content="John Kunz">
    <meta name="publisher" content="John Kunz">
    <meta name="google" content="notranslate">

    <!-- Viewport -->
    <meta name="viewport" content="initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="John Kunz">

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/png" href="https://mrkunz.com/img/favicon.png">

    <!-- CSS Stylesheets -->
    <link rel="stylesheet" href="./John Kunz_files/style.css">

    <!-- Font -->
    <link href="./John Kunz_files/css" rel="stylesheet" type="text/css">

    <!-- Javascript -->
    <script type="text/javascript" src="./John Kunz_files/main.js.Без названия"></script>
  <link rel="stylesheet" type="text/css" href="./John Kunz_files/prettify.css">


</head>
<body id="page" class="displayed">

    <header>
        <div id="wrap">
            <div class="logotext"><strong>John Kunz</strong> | Effects Artist</div>
            <nav id="nav">
            <ul>
                <li><a href="https://mrkunz.com/index.html" title="Home">Home</a></li>
        <li><a href="https://mrkunz.com/resume.html" title="Resume">Resume</a></li>            
        <li><a href="https://mrkunz.com/contact.html" title="Contact">Contact</a></li>
        <li><a href="https://mrkunz.com/blog/index.html" title="Blog">Blog</a></li>
            </ul>
            </nav>
        </div>
    </header>
        <!--
        <div  class="hero-image-contact" style="background-image: url('http://mrkunz.com/content/img/cgi_gallery/classroom_2560x1030.png')">
        </div>
        -->
        <div class="main">
            <h5>VEX Wrangle Cheat Sheet</h5><hr>
            <h6>John Kunz | August 22nd, 2018</h6>
            <br>

            <h5>Global Variables</h5>
            <p>A list of variables available in wrangles.  The type indicator isn't needed, but is included as a reminder.</p>
            <div class="codesnippet"><code class="prettyprint prettyprinted" style=""><span class="com">// Available in all SOP wrangles</span><span class="pln">
f@Frame     </span><span class="com">//The current floating frame number, equivalent to the $FF Hscript variable</span><span class="pln">
f@Time      </span><span class="com">//The current time in seconds, equivalent to the $T Hscript variable</span><span class="pln">
i@SimFrame  </span><span class="com">//The integer simulation timestep number ($SF), only present in DOP contexts.</span><span class="pln">
f@SimTime   </span><span class="com">//The simulation time in seconds ($ST), only present in DOP contexts.</span><span class="pln">
f@TimeInc   </span><span class="com">//The timestep currently being used for simulation or playback.</span><span class="pln">

</span><span class="com">// Available in Attribute Wrangle</span><span class="pln">
v@P         </span><span class="com">//The position of the current element.</span><span class="pln">
i@ptnum     </span><span class="com">//The point number attached to the currently processed element.</span><span class="pln">
i@vtxnum    </span><span class="com">//The linear number of the currently processed vertex.</span><span class="pln">
i@primnum   </span><span class="com">//The primitive number attached to the currently processed element.</span><span class="pln">
i@elemnum   </span><span class="com">//The index number of the currently processed element.</span><span class="pln">
i@numpt     </span><span class="com">//The total number of points in the geometry.</span><span class="pln">
i@numvtx    </span><span class="com">//The number of vertices in the primitive of the currently processed element.</span><span class="pln">
i@numprim   </span><span class="com">//The total number of primitives in the geometry.</span><span class="pln">
i@numelem   </span><span class="com">//The total number of elements being processed.</span><span class="pln">

</span><span class="com">// Available in Volume Wrangle</span><span class="pln">
v@P                     </span><span class="com">//The position of the current voxel.</span><span class="pln">
f@density               </span><span class="com">//The value of the density field at the current voxel location.</span><span class="pln">
v@center                </span><span class="com">//The center of the current volume.</span><span class="pln">
v@dPdx</span><span class="pun">,</span><span class="pln"> v@dPdy</span><span class="pun">,</span><span class="pln"> v@dPdz  </span><span class="com">//These vectors store the change in P that occurs in the x, y, and z voxel indices.</span><span class="pln">
i@ix</span><span class="pun">,</span><span class="pln"> i@iy</span><span class="pun">,</span><span class="pln"> i@iz        </span><span class="com">//Voxel indices. For dense volumes (non-VDB) these range from 0 to resolution-1.</span><span class="pln">
i@resx</span><span class="pun">,</span><span class="pln"> i@resy</span><span class="pun">,</span><span class="pln"> i@resz  </span><span class="com">//The resolution of the current volume.</span></code></div>
            <br>

            <h5>Common Geometry Attributes</h5>
            <p>Frequently used attributes.  Houdini knows to cast these to the appropriate VEX datatype.  </p>
            <div class="codesnippet"><code class="prettyprint prettyprinted" style=""><span class="com">// Int</span><span class="pln">
</span><span class="lit">@id</span><span class="pln">         </span><span class="com">// A unique number that remains the same throughout a simulation.</span><span class="pln">

</span><span class="com">// Float</span><span class="pln">
</span><span class="lit">@pscale</span><span class="pln">     </span><span class="com">// Particle radius size.  Uniform scale.  Set display particles as 'Discs' to visualize.</span><span class="pln">
</span><span class="lit">@width</span><span class="pln">      </span><span class="com">// Thickness of curves.  Enable 'Shade Open Curves In Viewport' on the object node to visualize.</span><span class="pln">
</span><span class="lit">@Alpha</span><span class="pln">      </span><span class="com">// Alpha transparency override.  The viewport uses this to set the alpha of OpenGL geometry.</span><span class="pln">
</span><span class="lit">@Pw</span><span class="pln">         </span><span class="com">// Spline weight.</span><span class="pln">

</span><span class="com">// Vector3</span><span class="pln">
</span><span class="lit">@P</span><span class="pln">          </span><span class="com">// Point position.  Used this to lay out points in 3D space.</span><span class="pln">
</span><span class="lit">@Cd</span><span class="pln">         </span><span class="com">// Diffuse color override.  The viewport uses this to color OpenGL geometry.</span><span class="pln">
</span><span class="lit">@N</span><span class="pln">          </span><span class="com">// Surface or curve normal.  Houdini will compute the normal if this attribute does not exist.</span><span class="pln">
</span><span class="lit">@scale</span><span class="pln">      </span><span class="com">// Vector scale.  Allows directional scaling or stretching (in one direction).</span><span class="pln">
</span><span class="lit">@rest</span><span class="pln">       </span><span class="com">// Used by procedural patterns and textures to stick on deforming and animated surfaces.</span><span class="pln">
</span><span class="lit">@up</span><span class="pln">         </span><span class="com">// Up vector.  The up direction for local space, typically (0, 1, 0).</span><span class="pln">
</span><span class="lit">@uv</span><span class="pln">         </span><span class="com">// UV texture coordinates for this point/vertex.</span><span class="pln">
</span><span class="lit">@v</span><span class="pln">          </span><span class="com">// Point velocity.  The direction and speed of movement in units per second.</span><span class="pln">

</span><span class="com">// Vector4</span><span class="pln">
</span><span class="lit">@orient</span><span class="pln">     </span><span class="com">// The local orientation of the point (represented as a quaternion).</span><span class="pln">
</span><span class="lit">@rot</span><span class="pln">        </span><span class="com">// Additional rotation to be applied after orient, N, and up attributes.</span><span class="pln">

</span><span class="com">// String</span><span class="pln">
</span><span class="lit">@name</span><span class="pln">       </span><span class="com">// A unique name identifying which primitives belong to which piece.  Also used to label volumes.</span><span class="pln">
</span><span class="lit">@instance</span><span class="pln">   </span><span class="com">// Path of an object node to be instanced at render time.</span></code></div>
            <!--<p>Attribute @ references are cast as float unless you add a character representing the type before the @ sign or first declare the attribute type.  For example, to cast the foo attribute as a string, you would use s@foo.  To declare it, string @foo.</p>
            <br />-->
            <br>
            <h5>Specifying VEX Data Types</h5>
            <!--<p>A data type specifies which type of value an attribute will store.  A string, for example, is a data type used to classify text and an integer is a data type used to classify whole numbers.</p>-->
            <p>The following characters are used to cast to the corresponding data type.</p>
            <div class="codesnippet"><code class="prettyprint prettyprinted" style=""><span class="kwd">float</span><span class="pln">       f@name    </span><span class="com">// Floating point scalar values.</span><span class="pln">
vector2     u@name    </span><span class="com">// Two floating point values. Could be used to store 2D positions.</span><span class="pln">
vector3     v@name    </span><span class="com">// Three floating point values. Usually positions, directions, normals, UVW or colors.</span><span class="pln">
vector4     p@name    </span><span class="com">// Four floating point values. Usually rotation quaternions, or color and alpha (RGBA).</span><span class="pln">
</span><span class="kwd">int</span><span class="pln">         i@name    </span><span class="com">// Integer values (VEX uses 32 bit integers).</span><span class="pln">
matrix2     </span><span class="lit">2@name</span><span class="pln">    </span><span class="com">// Four floating point values representing a 2D rotation matrix.</span><span class="pln">
matrix3     </span><span class="lit">3@name</span><span class="pln">    </span><span class="com">// Nine floating point values representing a 3D rotation matrix or 2D transform matrix.</span><span class="pln">
matrix      </span><span class="lit">4@name</span><span class="pln">    </span><span class="com">// Sixteen floating point values representing a 3D transform matrix.</span><span class="pln">
</span><span class="kwd">string</span><span class="pln">      s@name    </span><span class="com">// A string of characters.</span></code></div>
            <br>

            <h5>Channel Shortcut Syntax</h5>
            <!--<p>Wranlge nodes have an action button attached to their code entry field.  When clicked, the code gets scanned and user interface parameters are created for each unique call of ch().  </p>--><p>This is the syntax used to hint at the data type of auto generated wrangle parameters.</p>
            <div class="codesnippet"><code class="prettyprint prettyprinted" style=""><span class="pln">ch</span><span class="pun">(</span><span class="str">'flt1'</span><span class="pun">);</span><span class="pln">             </span><span class="com">// Float</span><span class="pln">
chf</span><span class="pun">(</span><span class="str">'flt2'</span><span class="pun">);</span><span class="pln">            </span><span class="com">// Float</span><span class="pln">
chi</span><span class="pun">(</span><span class="str">'int'</span><span class="pun">);</span><span class="pln">             </span><span class="com">// Integer</span><span class="pln">
chv</span><span class="pun">(</span><span class="str">'vecparm'</span><span class="pun">);</span><span class="pln">         </span><span class="com">// Vector 3</span><span class="pln">
chp</span><span class="pun">(</span><span class="str">'quat'</span><span class="pun">);</span><span class="pln">            </span><span class="com">// Vector 4 / Quaternion</span><span class="pln">
ch3</span><span class="pun">(</span><span class="str">'m3'</span><span class="pun">);</span><span class="pln">              </span><span class="com">// 3x3 Matrix</span><span class="pln">
ch4</span><span class="pun">(</span><span class="str">'m4'</span><span class="pun">);</span><span class="pln">              </span><span class="com">// 4x4 Matrix</span><span class="pln">
chs</span><span class="pun">(</span><span class="str">'str'</span><span class="pun">);</span><span class="pln">             </span><span class="com">// String</span><span class="pln">
chramp</span><span class="pun">(</span><span class="str">'r'</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">);</span><span class="pln">         </span><span class="com">// Spline Ramp</span><span class="pln">
vector</span><span class="pun">(</span><span class="pln">chramp</span><span class="pun">(</span><span class="str">'c'</span><span class="pun">,</span><span class="pln"> x</span><span class="pun">));</span><span class="pln"> </span><span class="com">// RGB Ramp </span></code></div>
            <br>
            <br>
            <h5>Accessing Attributes on Other Inputs and Nodes</h5>
            <p>This syntax is used to refer to nodes wired into the inputs of the wrangle, or other nodes in the network.</p>
            <div class="codesnippet"><code class="prettyprint prettyprinted" style=""><span class="com">// 'opinput:X' is the most legible and always works (the first input is input 0).</span><span class="pln">
point</span><span class="pun">(</span><span class="str">'opinput:0'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'P'</span><span class="pun">,</span><span class="pln"> i@ptnum</span><span class="pun">)</span><span class="pln">
point</span><span class="pun">(</span><span class="str">'opinput:1'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'P'</span><span class="pun">,</span><span class="pln"> i@ptnum</span><span class="pun">)</span><span class="pln">
point</span><span class="pun">(</span><span class="str">'opinput:2'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'P'</span><span class="pun">,</span><span class="pln"> i@ptnum</span><span class="pun">)</span><span class="pln">
point</span><span class="pun">(</span><span class="str">'opinput:3'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'P'</span><span class="pun">,</span><span class="pln"> i@ptnum</span><span class="pun">)</span><span class="pln">

</span><span class="com">// The integer input number (the first input is 0).  Some functions don't support this but it's easy to type.</span><span class="pln">
point</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> </span><span class="str">'P'</span><span class="pun">,</span><span class="pln"> i@ptnum</span><span class="pun">)</span><span class="pln">
point</span><span class="pun">(</span><span class="lit">1</span><span class="pun">,</span><span class="pln"> </span><span class="str">'P'</span><span class="pun">,</span><span class="pln"> i@ptnum</span><span class="pun">)</span><span class="pln">
point</span><span class="pun">(</span><span class="lit">2</span><span class="pun">,</span><span class="pln"> </span><span class="str">'P'</span><span class="pun">,</span><span class="pln"> i@ptnum</span><span class="pun">)</span><span class="pln">
point</span><span class="pun">(</span><span class="lit">3</span><span class="pun">,</span><span class="pln"> </span><span class="str">'P'</span><span class="pun">,</span><span class="pln"> i@ptnum</span><span class="pun">)</span><span class="pln">

</span><span class="com">// @OpInputX works as well, but be careful as it isn't 0 based, instead it starts at 1 which is confusing</span><span class="pln">
point</span><span class="pun">(</span><span class="lit">@OpInput1</span><span class="pun">,</span><span class="pln"> </span><span class="str">'P'</span><span class="pun">,</span><span class="pln"> i@ptnum</span><span class="pun">)</span><span class="pln">
point</span><span class="pun">(</span><span class="lit">@OpInput2</span><span class="pun">,</span><span class="pln"> </span><span class="str">'P'</span><span class="pun">,</span><span class="pln"> i@ptnum</span><span class="pun">)</span><span class="pln">
point</span><span class="pun">(</span><span class="lit">@OpInput3</span><span class="pun">,</span><span class="pln"> </span><span class="str">'P'</span><span class="pun">,</span><span class="pln"> i@ptnum</span><span class="pun">)</span><span class="pln">
point</span><span class="pun">(</span><span class="lit">@OpInput4</span><span class="pun">,</span><span class="pln"> </span><span class="str">'P'</span><span class="pun">,</span><span class="pln"> i@ptnum</span><span class="pun">)</span><span class="pln">

</span><span class="com">// v@opinputX_* reads an attribute from the same element on the numbered input (first input is input 0).</span><span class="pln">
v@opinput0_P
v@opinput1_P
v@opinput2_P
v@opinput3_P

</span><span class="com">// Absolute and relative paths to other nodes look like this.</span><span class="pln">
point</span><span class="pun">(</span><span class="str">'op:/obj/geo1/OUT'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'P'</span><span class="pun">,</span><span class="pln"> i@ptnum</span><span class="pun">)</span><span class="pln">
point</span><span class="pun">(</span><span class="str">'op:../../OUT'</span><span class="pun">,</span><span class="pln"> </span><span class="str">'P'</span><span class="pun">,</span><span class="pln"> i@ptnum</span><span class="pun">)</span></code></div>
<!--
// Instead of simply getting the same element, you can match by id like so.
point(0, P, idtopoint(@id))
point(1, P, idtopoint(@id))
point(2, P, idtopoint(@id))
point(3, P, idtopoint(@id))
</code></div>-->
            <br>
            <br>
            <h5>Copying and Instancing Attributes</h5>
            <p>When copying or instancing, Houdini looks for these point attributes to customize each copy/instance.</p>
            <div class="codesnippet"><code class="prettyprint prettyprinted" style=""><span class="pln">p@orient                    </span><span class="com">// Orientation of the copy.</span><span class="pln">
f@pscale                    </span><span class="com">// Uniform scale.</span><span class="pln">
v@scale                     </span><span class="com">// Non-uniform scale.</span><span class="pln">
v@N                         </span><span class="com">// Normal (+Z axis of the copy, if no p@orient).</span><span class="pln">
v@up                        </span><span class="com">// Up vector of the copy (+Y axis of the copy, if no p@orient).</span><span class="pln">
v@v                         </span><span class="com">// Velocity of the copy (motion blur), used as +Z axis if no p@orient or v@N.</span><span class="pln">
p@rot                       </span><span class="com">// Additional rotation (applied after the orientation attributes above).</span><span class="pln">
v@P                         </span><span class="com">// Translation of the copy.</span><span class="pln">
v@trans                     </span><span class="com">// Translation of the copy, in addition to v@P.</span><span class="pln">
v@pivot                     </span><span class="com">// Local pivot point for the copy.</span><span class="pln">
</span><span class="lit">3@transform</span><span class="pln"> </span><span class="kwd">or</span><span class="pln"> </span><span class="lit">4@transform</span><span class="pln">  </span><span class="com">// Transform matrix overriding everything except v@P, v@pivot, and v@trans.</span><span class="pln">
s@shop_materialpath         </span><span class="com">// The instanced object uses this material.</span><span class="pln">
s@material_override         </span><span class="com">// A serialized Python dictionary mapping material parameter names to values.</span><span class="pln">
s@instance
s@instancefile              </span><span class="com">// File path indicating what geometry to instance.</span><span class="pln">
s@instancepath              </span><span class="com">// Geometry to instance. This is either a path to a file on disk or an op: path.</span></code></div>
            <br>
            <br>
            
            <h5>DOP Particle Attributes</h5>
            <p>A particle system is first and foremost driven by attributes. Here are some of the attributes used.</p>
            <div class="codesnippet"><code class="prettyprint prettyprinted" style=""><span class="pln">f@age       </span><span class="com">// Time in seconds since the particle was born.</span><span class="pln">
f@life      </span><span class="com">// Time in seconds the particle is allowed to live. When f@age&gt;f@life, i@dead will be set to 1.</span><span class="pln">
f@nage      </span><span class="com">// Normalized age, f@age divided by f@life.  Implicit attribute, you cannot write to this.</span><span class="pln">
i@dead      </span><span class="com">// Whether a particle is living (0) or dead (1).  A dead particle is deleted in the Reaping stage.</span><span class="pln">
i@id        </span><span class="com">// A unique id for the particle that remains the same throughout a single simulation.</span><span class="pln">

i@stopped   </span><span class="com">// Whether a particle is moving (0) or stopped (1).</span><span class="pln">
i@stuck     </span><span class="com">// Whether a particle is free (0) or stuck (1).</span><span class="pln">
i@sliding   </span><span class="com">// Whether a particle is free (0) or sliding along a surface (1).</span><span class="pln">
f@cling     </span><span class="com">// Force applied to sliding paritcles inwards (according to the collision's surface normal).</span><span class="pln">
s@pospath   </span><span class="com">// The path to the object that the particle is colliding with.</span><span class="pln">
i@posprim   </span><span class="com">// Which collision primitive in the path geometry whose position we wish to refer to.</span><span class="pln">
v@posuv     </span><span class="com">// Parametric uv on the collision primitive.</span><span class="pln">

i@hittotal  </span><span class="com">// The cumulative total of all hits for the particle (only incremented once per timestep).</span><span class="pln">
i@has_pprevious </span><span class="com">// This is set to 1 if v@pprevious contains valid values.</span><span class="pln">
v@pprevious </span><span class="com">// Stores the position of the particle on the previous frame.  Used for collision detection.</span><span class="pln">
i@hitnum    </span><span class="com">// The number of times the particle collided in the last POP Collision Detect.</span><span class="pln">
s@hitpath   </span><span class="com">// The path to the object that was hit. A path to a file on disk or an op: path.</span><span class="pln">
i@hitprim   </span><span class="com">// The primitive hit. Could be -1 if it the collision detector couldn’t figure out which prim.</span><span class="pln">
v@hituv     </span><span class="com">// The parametric UV space on the primitive.</span><span class="pln">
v@hitpos    </span><span class="com">// Where the hit actually occurred.  Useful if the colliding object was moving.</span><span class="pln">
v@hitnml    </span><span class="com">// The normal of the surface at the time of the collision.</span><span class="pln">
v@hitv      </span><span class="com">// The velocity of the surface at the time of the collision.</span><span class="pln">
f@hittime   </span><span class="com">// When the collision occurred, that could be within a frame.</span><span class="pln">
f@hitimpulse</span><span class="com">// Records how much of an impulse was needed for the collision resolution.  varies with timestep.</span><span class="pln">
f@bounce    </span><span class="com">// When particles bounce off another object, this controls how much energy they keep.</span><span class="pln">
f@bounceforward </span><span class="com">// Controls how much energy they keep in the tangential direction.</span><span class="pln">
f@friction  </span><span class="com">// When particles bounce, they are slowed down proportional to how hard they hit.</span><span class="pln">
s@collisionignore   </span><span class="com">// Objects that match this pattern will not be collided.</span><span class="pln">

f@force     </span><span class="com">// Forces on the particle for this frame.</span><span class="pln">
f@mass      </span><span class="com">// Inertia of the particle.</span><span class="pln">
v@spinshape </span><span class="com">// This is multiplied by f@pscale to determine the shape of the particle for rotational inertia.</span><span class="pln">
f@drag      </span><span class="com">// How much the particle is effected by any wind effects.</span><span class="pln">
f@dragexp   </span><span class="com">// Ranges from 1 to 2, default is set on the solver.  Used for both angular and linear drag.</span><span class="pln">
v@dragshape </span><span class="com">// How much the particle is dragged in each of its local axes.</span><span class="pln">
v@dragcenter</span><span class="com">// If specified, drag forces will also generate torques on the particle.</span><span class="pln">
v@targetv   </span><span class="com">// The local wind speed. Thought of as the goal, or target, velocity for the particle.</span><span class="pln">
f@airresist </span><span class="com">// How important it is to match the wind speed.  Thickness of the air.</span><span class="pln">
f@speedmin  </span><span class="com">// Minumum speed, in units per second, that a particle can move.</span><span class="pln">
f@speedmax  </span><span class="com">// Maximum speed, in units per second, that a particle can move.</span><span class="pln">

p@orient    </span><span class="com">// Orientation of the particle.  Used for figuring out 'local' forces.</span><span class="pln">
v@w         </span><span class="com">// Angular speed of the particle.  A vector giving the rotation axis.</span><span class="pln">
v@torque    </span><span class="com">// The equivalent of force for spins. No inertial tensor (the equivalent of mass) is supported.</span><span class="pln">
v@targetw   </span><span class="com">// The goal spin direction and speed for this particle.</span><span class="pln">
f@spinresist</span><span class="com">// How important it is to match the targetw.</span><span class="pln">
f@spinmin   </span><span class="com">// Minumum speed in radians per second that a particle can spin.</span><span class="pln">
f@spinmax   </span><span class="com">// Maximum speed in radians per second that a particle can spin.</span></code></div>
            <br>
            <br>
            <h5>DOP Grains Attributes</h5>
            <p>Particles under control of POP Grains have the ispbd attribute set to 1. This causes them to not perform normal movement update in the POP Solver, as the actual motion update is done in this node.</p>
            <div class="codesnippet"><code class="prettyprint prettyprinted" style=""><span class="pln">i@ispbd     </span><span class="com">// A value of 1 causes the particle to behave as grains.</span><span class="pln">
f@pscale    </span><span class="com">// Used to determine the radius of each particle.</span><span class="pln">
f@repulsionweight   </span><span class="com">// How much the particle collision forces are weighted.</span><span class="pln">
f@repulsionstiffness</span><span class="com">// How strongly particles are kept apart.  Higher values result in less bouncy repulsion.</span><span class="pln">
f@attractionweight  </span><span class="com">// How much the particles will naturally stick together when close.</span><span class="pln">
f@attractionstiffness   </span><span class="com">// How strongly nearby particles stick to each other.</span><span class="pln">
v@targetP   </span><span class="com">// Particles are constrained to this location.</span><span class="pln">
f@targetweight      </span><span class="com">// The weight of the v@targetP constraints.</span><span class="pln">
f@targetstiffness   </span><span class="com">// The stiffness with which particles are fixed to their v@targetP attribute.</span><span class="pln">

f@restlength</span><span class="com">// Particles connected by polylines will be forced to maintain this distance (prim attribute).</span><span class="pln">
f@constraintweight  </span><span class="com">// Scale, on a per-particle basis of the constraint force.</span><span class="pln">
f@constraintstiffness   </span><span class="com">// This controls the stiffness on a per-particle basis.</span><span class="pln">
f@strain    </span><span class="com">// This primitive attribute records how much the constraint is stretched.</span><span class="pln">
f@strength  </span><span class="com">// If f@strain exceeds this primitive attribute, the constraint will be removed.</span></code></div>
            <br>
            <br>
            <h5>DOP Packed RBD Attributes</h5>
            <p>The Bullet Solver uses several point attributes to store the properties of each piece of a packed object.</p>
            <div class="codesnippet"><code class="prettyprint prettyprinted" style=""><span class="pln">i@active    </span><span class="com">// Specifies whether the object is able to react to other objects.</span><span class="pln">
i@animated  </span><span class="com">// Specifies whether the transform should be updated from its SOP geometry at each timestep.</span><span class="pln">
i@deforming </span><span class="com">// Specifies whether the collision shape should be rebuilt from its SOP geometry each timestep.</span><span class="pln">

f@bounce    </span><span class="com">// The elasticity of the object.</span><span class="pln">
i@bullet_add_impact </span><span class="com">// Impacts that occur during the sim will be recorded in the Impacts or Feedback data.</span><span class="pln">
i@bullet_ignore     </span><span class="com">// Specifies whether the object should be completely ignored by the Bullet solver.</span><span class="pln">
f@bullet_angular_sleep_threshold</span><span class="com">// The sleeping threshold for the object’s angular velocity.</span><span class="pln">
f@bullet_linear_sleep_threshold </span><span class="com">// The sleeping threshold for the object’s linear velocity.</span><span class="pln">
i@bullet_want_deactivate</span><span class="com">// Disables simulation of a non-moving object until the object moves again. </span><span class="pln">
i@computecom</span><span class="com">// Specifies whether the center of mass should be computed from the collision shape.</span><span class="pln">
i@computemass   </span><span class="com">// Specifies whether the mass should be computedfrom the collision shape and density.</span><span class="pln">
f@creationtime  </span><span class="com">// Stores the simulation time at which the object was created.</span><span class="pln">
i@dead  </span><span class="com">// Specifies whether the object should be deleted during the next solve.</span><span class="pln">
f@density   </span><span class="com">// The mass of an object is its volume times its density.</span><span class="pln">
f@friction  </span><span class="com">// The coefficient of friction of the object.</span><span class="pln">
f@inertialtensorstiffness   </span><span class="com">// Rotational stiffness.  A scale factor applied to the inertial tensor. </span><span class="pln">
i@inheritvelocity   </span><span class="com">// v and w point attributes from the SOP geometry will override the initial velocity.</span><span class="pln">
f@mass  </span><span class="com">// The mass of the object.</span><span class="pln">
s@name  </span><span class="com">// A unique name for the object. Used by Constraint Networks.</span><span class="pln">
p@orient</span><span class="com">// The orientation of the object.</span><span class="pln">
v@P     </span><span class="com">// The current position of the object’s center of mass.</span><span class="pln">
v@pivot </span><span class="com">// The pivot that the orientation applies to. If i@computecom is non-zero, this is auto-computed.</span><span class="pln">
v@v     </span><span class="com">// Linear velocity of the object.</span><span class="pln">
v@w     </span><span class="com">// Angular velocity of the object, in radians per second.</span><span class="pln">

i@bullet_adjust_geometry    </span><span class="com">// Shrinks the collision geometry.</span><span class="pln">
i@bullet_autofit    </span><span class="com">// Use the bounds of the object for Box, Capsule, Cylinder, Sphere, or Plane.</span><span class="pln">
f@bullet_collision_margin   </span><span class="com">// Padding distance between collision shapes.</span><span class="pln">
s@bullet_georep     </span><span class="com">// Can be convexhull, concave, box, capsule, cylinder, compound, sphere, or plane.</span><span class="pln">
i@bullet_groupconnected     </span><span class="com">// Create convex hull per set of connected primitives.</span><span class="pln">
f@bullet_length     </span><span class="com">// The length of the Capsule or Cylinder collision shape in the Y direction.</span><span class="pln">
v@bullet_primR  </span><span class="com">// Orientation of the Box, Capsule, Cylinder, or Plane collision shape.</span><span class="pln">
v@bullet_primS  </span><span class="com">// Size of the Box collision shape.</span><span class="pln">
v@bullet_primT  </span><span class="com">// Position of the Box, Sphere, Capsule, Cylinder, or Plane collision shape.</span><span class="pln">
f@bullet_radius </span><span class="com">// Radius of the Sphere, Capsule, or Cylinder collision shape.</span><span class="pln">
f@bullet_shrink_amount  </span><span class="com">// Specifies the amount of resizing done by Shrink Collision Geometry.</span><span class="pln">

s@activationignore  </span><span class="com">// Won't be activated by collisions with any objects that match this pattern.</span><span class="pln">
s@collisiongroup    </span><span class="com">// Specifies the name of a collision group that this object belongs to.</span><span class="pln">
s@collisionignore   </span><span class="com">// The object will not collide against any objects that match this pattern.</span><span class="pln">
f@min_activation_impulse</span><span class="com">// Minimum impulse that will cause the object to switch from inactive to active.</span><span class="pln">

f@speedmin  </span><span class="com">// Minumum speed, in units per second, that a particle can move.</span><span class="pln">
f@speedmax  </span><span class="com">// Maximum speed, in units per second, that a particle can move.</span><span class="pln">
f@spinmin   </span><span class="com">// Minumum speed in radians per second that a particle can spin.</span><span class="pln">
f@spinmax   </span><span class="com">// Maximum speed in radians per second that a particle can spin.</span><span class="pln">
f@accelmax  </span><span class="com">// Limits the change in the object’s speed that is caused by enforcing constraints.</span><span class="pln">
f@angaccelmax   </span><span class="com">// Limits the change in the object’s angular speed that is caused by enforcing constraints.</span><span class="pln">

f@airresist </span><span class="com">// Specifies how important it is to match the target velocity (v@targetv).</span><span class="pln">
f@drag      </span><span class="com">// How much the the v@targetv and f@airresist attributes effect the object.</span><span class="pln">
f@dragexp   </span><span class="com">// Ranges from 1 to 2, default is set on the solver.  Used for both angular and linear drag.</span><span class="pln">
v@force     </span><span class="com">// Specifies a force that will be applied to the center of mass of the object.</span><span class="pln">
f@spinresist</span><span class="com">// Specifies how important it is to match the target angular velocity (v@targetw).</span><span class="pln">
v@targetv   </span><span class="com">// Target velocity for the object. Used in combination with the f@airresist attribute.</span><span class="pln">
v@targetw   </span><span class="com">// Target angular velocity for the object. Used in combination with the f@spinresist attribute.</span><span class="pln">
v@torque    </span><span class="com">// Specifies a torque that will be applied to the object.</span><span class="pln">

i@bullet_autofit_valid  </span><span class="com">// Stores whether the solver has already computed collision shape attributes.</span><span class="pln">
i@bullet_sleeping   </span><span class="com">// Tracks whether the object has been put to sleep by the solver.</span><span class="pln">
f@deactivation_time </span><span class="com">// Amount of time the speed has been below the Linear Threshold or Angular Threshold.</span><span class="pln">
i@found_overlap </span><span class="com">// Used by the solver to determine whether it has performed the overlap test.</span><span class="pln">
i@id    </span><span class="com">// A unique identifier for the object.</span><span class="pln">
i@nextid</span><span class="com">// Stores the i@id the solver will assign to the next new object.</span></code></div>
            <br>
            <br>
            <h5>DOP Constraint Network Attributes</h5>
            <p>You can create attributes on the geometry to customize each constraint’s behavior and type. If a primitive attribute with the same name as a constraint property (such as damping) is present, the attribute value will be multiplied with the value from the constraint sub-data.</p>
            <div class="codesnippet"><code class="prettyprint prettyprinted" style=""><span class="pln">i@anchor_id  </span><span class="com">// The anchor’s position will be bound to this point (or vertex).</span><span class="pln">
i@anchor_type   </span><span class="com">// Specifies if the anchor is attached to a point, vertex or agent transform.</span><span class="pln">
v@condir</span><span class="com">// The normal of a plane (i@condof==1) or axis (i@condof==2) the object can move on or rotate about.</span><span class="pln">
i@condof</span><span class="com">// Identifies the number of constrained degrees of freedom for an anchor (0 to 3).</span><span class="pln">
s@name  </span><span class="com">// The object the constraint is attached to.  An empty name attaches to world space position.</span><span class="pln">
v@P     </span><span class="com">// Identifies the initial world space position of the anchor.</span><span class="pln">
p@orient</span><span class="com">// Initial world space orientation of the anchor.  Takes precedence over v@r point attribute.</span><span class="pln">
v@r     </span><span class="com">// Identifies the initial world space orientation of the anchor as Euler angles.</span><span class="pln">
v@v     </span><span class="com">// Identifies the velocity of the world space position to which the constraint is attached.</span><span class="pln">
v@w     </span><span class="com">// Identifies the angular velocity of the world space position to which the constraint is attached.</span><span class="pln">

s@constraint_name   </span><span class="com">// Prim attribute specifying the Data Name of the constraint to create.</span><span class="pln">
s@constraint_type   </span><span class="com">// Prim attribute specifying degrees of freedom ('position', 'rotation' or 'all').</span><span class="pln">
s@next_constraint_name  </span><span class="com">// Prim attribute specifying the next constraint_name to use after broken.</span><span class="pln">
s@next_constraint_type  </span><span class="com">// Prim attribute specifying the next constraint_type to use after broken.</span><span class="pln">
i@propagate_iteration   </span><span class="com">// Detail attribute specifying number of impact propagations for glue constraints.</span><span class="pln">

f@force     </span><span class="com">// Prim attribute updated by the solver to contain the force applied to satisfy the constraint.</span><span class="pln">
f@distance  </span><span class="com">// Prim attribute updated by the solver to contain the distance between it's anchors.</span><span class="pln">
f@torque    </span><span class="com">// Prim attribute updated by the solver to contain the torque applied to satisfy the constraint.</span><span class="pln">
f@angle     </span><span class="com">// Prim attribute updated by the solver to contain the angle (in radians) between the anchors.</span><span class="pln">
f@impact    </span><span class="com">// Prim attribute updated by the solver to contain the accumulated impulses for the glue bond.</span><span class="pln">

i@group_broken  </span><span class="com">// Any constraints that are in the broken primitive group will be ignored by solvers.</span></code></div>
            <br>
            <br>
            <h5>DOP Wire Attributes</h5>
            <p>You can create attributes on the wire object’s RestGeometry to influence its behavior.  Most of these attributes allow fine-tuning of the wire by scaling values set in this node.  Point, primitive, or detail attributes of the same name will be used if the vertex attributes are not present.</p>
            <div class="codesnippet"><code class="prettyprint prettyprinted" style=""><span class="pln">f@width  </span><span class="com">// Width of each edge.</span><span class="pln">
f@density   </span><span class="com">//  Density of each point.</span><span class="pln">
p@orient</span><span class="com">// Initial orientation of each point. This value is stored as a quaternion.</span><span class="pln">
v@v     </span><span class="com">// Initial velocity of each point.</span><span class="pln">
v@w     </span><span class="com">// Initial angular velocity of each point measured in radians per second.</span><span class="pln">
f@friction  </span><span class="com">// Friction of each point.</span><span class="pln">
f@klinear   </span><span class="com">// Defines how strongly the wire resists stretching.</span><span class="pln">
f@damplinear</span><span class="com">// Defines how strongly the wire resists oscillation due to stretching forces.</span><span class="pln">
f@kangular  </span><span class="com">// Defines how strongly the wire resists bending.</span><span class="pln">
f@dampangular   </span><span class="com">// Defines how strongly the wire resists oscillation due to bending forces.</span><span class="pln">
f@targetstiffness   </span><span class="com">// Defines how strongly the wire resists deforming from the animated position.</span><span class="pln">
f@targetdamping </span><span class="com">// Defines how strongly the wire resists oscillation due to stretch forces.</span><span class="pln">
f@normaldrag</span><span class="com">// The component of drag in the directions normal to the wire.</span><span class="pln">
f@tangentdrag   </span><span class="com">// The component of drag in the direction tangent to the wire.</span><span class="pln">
i@nocollide </span><span class="com">// Collision detection for the edge is disabled (Only used if Collision Handling is SDF).</span><span class="pln">
v@restP </span><span class="com">// Rest position of each point.</span><span class="pln">
p@restorient</span><span class="com">// Rest orientation of each point.</span><span class="pln">
i@gluetoanimation   </span><span class="com">// Causes a point’s position and orientation to be constrained to the input geometry.</span><span class="pln">
i@pintoanimation    </span><span class="com">// Causes a point’s position to be constrained to the input geometry.</span><span class="pln">
v@animationP</span><span class="com">// Target position of each point.</span><span class="pln">
p@animationorient   </span><span class="com">// Target orientation of each point.</span><span class="pln">
v@animationv</span><span class="com">// Target velocity of each point.</span><span class="pln">
v@animationw</span><span class="com">// Target angular velocity of each point.</span><span class="pln">
i@independentcollisionallowed   </span><span class="com">// Toggle external collisions (Only non-SDF Geometric Collision).</span><span class="pln">
i@independentcollisionresolved  </span><span class="com">// Unresolved external collisions (Only non-SDF Geometric Collision).</span><span class="pln">
i@codependentcollisionallowed   </span><span class="com">// Toggle soft body collisions (Only non-SDF Geometric Collision).</span><span class="pln">
i@codependentcollisionresolved  </span><span class="com">// Unresolved toggle soft body collisions (Only non-SDF Geometric Collision).</span><span class="pln">
i@selfcollisionallowed  </span><span class="com">// Toggle self collisions (Only non-SDF Geometric Collision).</span><span class="pln">
i@selfcollisionresolved </span><span class="com">// Unresolved toggle self collisions (Only non-SDF Geometric Collision).</span></code></div>
            <br>
            <br>
            <h5>DOP FLIP Attributes</h5>
            <p>The FLIP Solver contains an embedded POP Solver, enabling the use of many POP attributes.</p>
            <div class="codesnippet"><code class="prettyprint prettyprinted" style=""><span class="pln">f@pscale</span><span class="com">// Particle scale</span><span class="pln">
v@v     </span><span class="com">// Particle velocity</span><span class="pln">
f@viscosity </span><span class="com">// The "thickness" of a fluid.</span><span class="pln">
f@density   </span><span class="com">// The mass per unit volume.</span><span class="pln">
f@temperature   </span><span class="com">// The temperature of the fluid.</span><span class="pln">
f@vorticity </span><span class="com">// Measures the amount of circulation in the fluid.</span><span class="pln">
f@divergence</span><span class="com">// Positive values cause particles to spread out, negative cause them to clump together.</span><span class="pln">
v@rest  </span><span class="com">// Used to track the position of the fluid over time.</span><span class="pln">
v@rest2 </span><span class="com">// Used for blending dual rest attributes, avoids stretching. </span><span class="pln">
f@droplet   </span><span class="com">// Identifies particles that separate from the main body of fluid.</span><span class="pln">
f@underresolved </span><span class="com">// Particles that haven't fully resolved on the grid.</span><span class="pln">
i@ballistic </span><span class="com">// Specifies particles which will be ignored by the fluid solve.</span><span class="pln">
v@Lx    </span><span class="com">// Angular momentum X axis</span><span class="pln">
v@Ly    </span><span class="com">// Angular momentum Y axis</span><span class="pln">
v@Lz    </span><span class="com">// Angular momentum Z axis</span></code></div>
            <br>
            <br>
            <!--
            TO DO

            http://www.sidefx.com/docs/houdini/nodes/dop/finiteelementsolver-.html

            http://www.sidefx.com/docs/houdini/nodes/dop/ripplesolver.html
            -->
            <h5>References</h5>
            <p>
                <a href="http://www.sidefx.com/docs/houdini/vex/snippets.html">http://www.sidefx.com/docs/houdini/vex/snippets.html</a>
                <a href="http://www.sidefx.com/docs/houdini/nodes/vop/volumevopglobal.html">http://www.sidefx.com/docs/houdini/nodes/vop/volumevopglobal.html</a>
                <a href="http://www.sidefx.com/docs/houdini/nodes/vop/geometryvopglobal.html">http://www.sidefx.com/docs/houdini/nodes/vop/geometryvopglobal.html</a>
                <a href="http://www.sidefx.com/docs/houdini/vex/lang.html#data-types">http://www.sidefx.com/docs/houdini/vex/lang.html#data-types</a>
                <a href="https://searchmicroservices.techtarget.com/definition/data-type">https://searchmicroservices.techtarget.com/definition/data-type</a>
                <a href="http://www.sidefx.com/docs/houdini/nodes/dop/popgrains.html">http://www.sidefx.com/docs/houdini/nodes/dop/popgrains.html</a>
                <!--<a href='https://www.sidefx.com/forum/topic/42028/>@opinput1_P access to individual componenets</a>-->
                <!--http://www.sidefx.com/docs/houdini/nodes/sop/rest.html-->
            </p>

        </div>


</body><div class="troywell-caa"></div></html>